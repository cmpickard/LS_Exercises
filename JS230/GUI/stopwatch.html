<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <style>
    body {
      font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
    }

    button {
      padding: 10px;
      background-color: lightblue;
      border-radius: 5px;
      border-color: black;
      border-style: solid;
      margin: 10 10 10 0;
    }

    #clock {
      font-size: 50px;
      font-style: bolder;
      margin: 30px;
    }

    h1 {
      font-size: 40px;
      margin-left: 30px;
      font-weight: 100;
    }

    #reset {
      margin-left: 10px;
    }

  </style>
  <script>
    class WatchManager {
      static START_TIME = '00';
      static SEPARATOR = ':';
      static MAX_MILLISECS = 99;
      static MAX_SECS = 59;
      static MAX_MINS = 59;
      static MAX_HOURS = 99;

      constructor() {
        document.addEventListener('DOMContentLoaded', () => {
          this.buildClock();
          this.mills = document.getElementById('milliseconds');
          this.secs = document.getElementById('seconds');
          this.mins = document.getElementById('minutes');
          this.hours = document.getElementById('hours');
          this.buttons = document.getElementById('buttons');
          this.start = document.getElementById('start');
          this.reset = document.getElementById('reset');
          this.clock = document.getElementById('clock');
          this.intervalId = null;
          this.attachListeners();
        });
      }

      buildClock() {
        let h1 = document.createElement('h1');
        h1.textContent = "Stopwatch";
        document.body.appendChild(h1);

        let clock = document.createElement('main');
        clock.id = 'clock';
        clock.dataset.on = 'false';
        document.body.appendChild(clock);

        let hours = document.createElement('span');
        hours.id = 'hours';
        hours.textContent = WatchManager.START_TIME;
        clock.appendChild(hours);

        let colon = document.createTextNode(WatchManager.SEPARATOR);
        clock.appendChild(colon);

        let mins = document.createElement('span');
        mins.id = 'minutes';
        mins.textContent = WatchManager.START_TIME;
        clock.appendChild(mins);
        clock.appendChild(colon.cloneNode(false));

        let secs = document.createElement('span');
        secs.id = 'seconds';
        secs.textContent = WatchManager.START_TIME;
        clock.appendChild(secs);
        clock.appendChild(colon.cloneNode(false));

        let mills = document.createElement('span');
        mills.id = 'milliseconds';
        mills.textContent = WatchManager.START_TIME;
        clock.appendChild(mills);

        let buttons = document.createElement('div');
        buttons.id = 'buttons';
        clock.appendChild(buttons);

        let start = document.createElement('button');
        start.textContent = 'Start';
        start.id = 'start';
        start.classList.add('button');
        buttons.appendChild(start);

        let reset = document.createElement('button');
        reset.textContent = 'Reset';
        reset.classList.add('button');
        reset.id = 'reset';
        buttons.appendChild(reset);
      }

      attachListeners() {
        this.buttons.addEventListener('click', (event) => {
          let target = event.target;
          if (target === this.start && this.clock.dataset.on === 'false') {
            this.startClock();
          } else if (target === this.start && this.clock.dataset.on === 'true') {
            this.stopClock();
          } else if (target === this.reset) {
            this.resetClock();
          }
        })
      }

      startClock() {
        this.intervalId = setInterval(this.updateClock.bind(this), 10);
        this.toggleStart();
        this.clock.dataset.on = 'true';
      }

      stopClock() {
        clearInterval(this.intervalId);
        this.toggleStart();
        this.clock.dataset.on = 'false';
      }

      resetClock() {
        if (this.clock.dataset.on === 'true') {
          this.stopClock();
          this.clock.dataset.on = 'false';
        }

        this.hours.textContent = WatchManager.START_TIME;
        this.mins.textContent = WatchManager.START_TIME;
        this.secs.textContent = WatchManager.START_TIME;
        this.mills.textContent = WatchManager.START_TIME;
      }

      updateClock() {
        if (this.hasMaxDigits(this.mills)) {
          this.mills.textContent = WatchManager.START_TIME;

          if (this.hasMaxDigits(this.secs)) {
            this.secs.textContent = WatchManager.START_TIME;

            if (this.hasMaxDigits(this.mins)) {
              this.mins.textContent = WatchManager.START_TIME;

              if (this.hasMaxDigits(this.hours)) {
                this.hours.textContent = WatchManager.START_TIME;
              } else {
                this.plusOne(this.hours);
              }

            } else {
              this.plusOne(this.mins);
            }
          } else {
            this.plusOne(this.secs);
          }
        } else {
          this.plusOne(this.mills);
        }
      }

      hasMaxDigits(timeNode) {
        let max;

        switch (timeNode) {
          case this.mills:
            max = WatchManager.MAX_MILLISECS;
            break;
          case this.secs:
            max = WatchManager.MAX_SECS;
            break;
          case this.mins:
            max = WatchManager.MAX_MINS;
            break;
          case this.hours:
            max = WatchManager.MAX_HOURS;
            break;
        }

        return Number(timeNode.textContent) === max;
      }

      plusOne(timeNode) {
        let currNum = Number(timeNode.textContent) + 1;
        let strNum = currNum > 9 ? String(currNum) : '0' + String(currNum);
        timeNode.textContent = strNum;
      }

      toggleStart() {
        if (this.start.textContent === 'Start') {
          this.start.textContent = 'Stop';
        } else {
          this.start.textContent = 'Start';
        }
      }
    }

    let clock = new WatchManager();
  </script>
</head>
<body>
</body>
</html>
<!-- Create a stopwatch application.

Specifications
The Timer

The stopwatch timer should have four 2-digit counters:

hours (00-99)
minutes (00-59)
seconds (00-59)
centiseconds (00-99)
All counters should use a leading zero when the corresponding time value is less than 10.

Note that one centisecond is 1/100th of a second or 10 milliseconds.

The Controls

The stopwatch should have the following controls:

a Start/Stop button
a Reset button
Functionality

When the user clicks the Start button:

The text on the button changes to Stop.
The timer starts running the centiseconds counter.
When the centiseconds counter reaches 100, it resets to zero and the seconds counter starts incrementing.
When the seconds counter reaches 60, it resets to zero and the minutes counter starts incrementing.
When the minutes counter reaches 60, it resets to zero and the hour counter starts incrementing.
When the user clicks the Stop button:

The timer stops.
The button text changes to Start.
When the user clicks the Reset button:

The timer stops running if it is already running.
The timer resets all counters to 00. -->